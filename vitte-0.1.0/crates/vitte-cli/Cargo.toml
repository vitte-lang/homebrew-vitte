[package]
name        = "vitte-cli"
description = "Interface en ligne de commande du langage Vitte."

version      = { workspace = true }
edition      = { workspace = true }
rust-version = { workspace = true }
license      = { workspace = true }
repository   = { workspace = true }
homepage     = { workspace = true }
readme       = { workspace = true }

keywords   = ["vitte", "cli", "compiler", "tooling"]
categories = ["command-line-utilities", "development-tools"]

default-run = "vitte"

[lib]
name = "vitte_cli"
path = "src/lib.rs"

[[bin]]
name = "vitte"
path = "src/main.rs"

[features]
default = ["trace", "color", "modules"]
trace   = ["dep:log", "dep:env_logger"]
color   = ["dep:owo-colors"]
vm      = []
modules = ["dep:vitte-modules", "dep:serde_json"]

[dependencies]
anyhow      = { workspace = true }
clap        = { workspace = true }
log         = { workspace = true, optional = true }
env_logger  = { workspace = true, optional = true }
owo-colors  = { workspace = true, optional = true }
serde_json  = { workspace = true, optional = true }
vitte-modules = { path = "../../modules/vitte-modules", version = "0.1.0", optional = true }

[dev-dependencies]
pretty_assertions = { workspace = true }
